---
title: "PCA_abcd ν”„λ΅μ νΈ κµ¬μ΅° λ° λ¨λ“ λ μ΄μ•„μ›ƒ"
order: 2
category: "architecture"
alwaysApply: true
tags: ["structure", "architecture", "modules"]
lastUpdated: "2024-01-15"
description: "ν΄λ¦° μ•„ν‚¤ν…μ² κΈ°λ° ν”„λ΅μ νΈ κµ¬μ΅°μ™€ κ° λ¨λ“μ μ—­ν• "
---

# ν”„λ΅μ νΈ κµ¬μ΅° λ° λ¨λ“ λ μ΄μ•„μ›ƒ

## π—οΈ ν΄λ¦° μ•„ν‚¤ν…μ² κΈ°λ° κµ¬μ΅°

```
project_root/
β”β”€β”€ core/                           # ν•µμ‹¬ λ„λ©”μΈ λ΅μ§ (ν΄λ¦° μ•„ν‚¤ν…μ²μ μ¤‘μ‹¬)
β”‚   β”β”€β”€ domain/                     # λ„λ©”μΈ κ³„μΈµ
β”‚   β”‚   β”β”€β”€ models/                 # λ„λ©”μΈ λ¨λΈ (μ: coupon.py, store.py, vehicle.py, discount_policy.py)
β”‚   β”‚   β””β”€β”€ repositories/           # λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤ (μ: store_repository.py)
β”‚   β””β”€β”€ application/                # μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ
β”‚       β”β”€β”€ use_cases/              # μ μ¤μΌ€μ΄μ¤ (μ: apply_coupon_use_case.py)
β”‚       β””β”€β”€ dto/                    # λ°μ΄ν„° μ „μ†΅ κ°μ²΄ (μ: automation_dto.py)
β”β”€β”€ infrastructure/                 # μΈν”„λΌμ¤νΈλ­μ² κ³„μΈµ (μ™Έλ¶€ μ‹μ¤ν…κ³Όμ μƒνΈμ‘μ©)
β”‚   β”β”€β”€ config/                     # μ„¤μ • κ΄€λ¦¬ (YAML κΈ°λ°)
β”‚   β”‚   β”β”€β”€ base_config.yaml        # κ³µν†µ μ„¤μ •
β”‚   β”‚   β””β”€β”€ store_configs/          # λ§¤μ¥λ³„ μ„¤μ • (μ: a_store_config.yaml, b_store_config.yaml)
β”‚   β”β”€β”€ web_automation/             # μ›Ή μλ™ν™” (Playwright κµ¬ν„)
β”‚   β”‚   β”β”€β”€ base_crawler.py         # κΈ°λ³Έ ν¬λ΅¤λ¬ (κ³µν†µ μ›Ή μ•΅μ…)
β”‚   β”‚   β””β”€β”€ store_crawlers/         # λ§¤μ¥λ³„ ν¬λ΅¤λ¬ κµ¬ν„ (μ: a_store_crawler.py, b_store_crawler.py)
β”‚   β”β”€β”€ notifications/              # μ•λ¦Ό μ‹μ¤ν… (μ: notification_service.py, telegram_adapter.py)
β”‚   β”β”€β”€ logging/                    # λ΅κΉ… μ‹μ¤ν… (μ: structured_logger.py)
β”‚   β””β”€β”€ factories/                  # μμ΅΄μ„± μ£Όμ…μ„ μ„ν• ν©ν† λ¦¬ (μ: automation_factory.py)
β”β”€β”€ interfaces/                     # μΈν„°νμ΄μ¤ κ³„μΈµ (μ‚¬μ©μ λ° μ™Έλ¶€ μ‹μ¤ν…κ³Όμ μ ‘μ )
β”‚   β”β”€β”€ api/                        # API μ—”λ“ν¬μΈνΈ (AWS Lambda ν•Έλ“¤λ¬)
β”‚   β”‚   β””β”€β”€ lambda_handler.py
β”‚   β””β”€β”€ cli/                        # CLI μΈν„°νμ΄μ¤
β”‚       β””β”€β”€ main.py
β”β”€β”€ shared/                         # κ³µμ  μ»΄ν¬λ„νΈ (λ²”μ© μ ν‹Έλ¦¬ν‹°, μμ™Έ λ“±)
β”‚   β”β”€β”€ exceptions/                 # μ»¤μ¤ν…€ μμ™Έ (μ: automation_exceptions.py)
β”‚   β””β”€β”€ utils/                      # μ ν‹Έλ¦¬ν‹° ν•¨μ (μ: date_utils.py)
β”β”€β”€ doc/                            # μ‹μ¤ν… κ΄€λ ¨ λ¬Έμ„ (μ μ§€)
β”β”€β”€ reference/                      # μ°Έμ΅° μλ£ (μ μ§€)
β”β”€β”€ result_logs/                    # μ‹¤ν–‰ λ΅κ·Έ μ €μ¥μ† (μ μ§€)
β”β”€β”€ venv/                           # Python κ°€μƒ ν™κ²½ (μ μ§€)
β”β”€β”€ .cursor/                        # Cursor μ„¤μ • νμΌ (μ μ§€)
β”β”€β”€ README.md                       # ν”„λ΅μ νΈ λ©”μΈ μ„¤λ…μ„ (μ—…λ°μ΄νΈ μ™„λ£)
β”β”€β”€ MIGRATION_GUIDE.md              # κΈ°μ΅΄ μ‹μ¤ν…μ—μ„ λ§μ΄κ·Έλ μ΄μ… κ°€μ΄λ“ (μƒλ΅ μƒμ„±)
β””β”€β”€ requirements.txt                # ν”„λ΅μ νΈ μμ΅΄μ„± λ©λ΅ (μ—…λ°μ΄νΈ μ™„λ£)
```

## π“‹ κ° κ³„μΈµμ μ—­ν• 

### π― Core (ν•µμ‹¬ λ„λ©”μΈ)
- **Domain Models**: λΉ„μ¦λ‹μ¤ κ·μΉ™κ³Ό λ„λ©”μΈ λ΅μ§
- **Use Cases**: μ• ν”λ¦¬μΌ€μ΄μ…μ μ£Όμ” κΈ°λ¥κ³Ό μ›ν¬ν”λ΅μ°
- **Repository Interfaces**: λ°μ΄ν„° μ•΅μ„Έμ¤ μ¶”μƒν™”

### π”§ Infrastructure (μΈν”„λΌμ¤νΈλ­μ²)
- **Web Automation**: Playwright κΈ°λ° μ›Ή μλ™ν™”
- **Configuration**: YAML κΈ°λ° μ„¤μ • κ΄€λ¦¬
- **Notifications**: ν…”λ κ·Έλ¨ λ“± μ•λ¦Ό μ‹μ¤ν…
- **Logging**: κµ¬μ΅°ν™”λ λ΅κΉ… μ‹μ¤ν…

### π Interfaces (μΈν„°νμ΄μ¤)
- **API**: AWS Lambda ν•Έλ“¤λ¬
- **CLI**: λ…λ Ήμ¤„ μΈν„°νμ΄μ¤

### π¤ Shared (κ³µμ )
- **Utilities**: κ³µν†µ μ ν‹Έλ¦¬ν‹° ν•¨μ
- **Exceptions**: ν”„λ΅μ νΈ μ „μ© μμ™Έ

## π¨ μ„¤κ³„ μ›μΉ™

### 1. **μμ΅΄μ„± λ°©ν–¥**
```
Interfaces β†’ Application β†’ Domain
Infrastructure β†’ Application β†’ Domain
```

### 2. **λ§¤μ¥λ³„ ν™•μ¥μ„±**
- μƒλ΅μ΄ λ§¤μ¥ μ¶”κ°€ μ‹ `infrastructure/web_automation/store_crawlers/` μ— μƒ ν¬λ΅¤λ¬ μ¶”κ°€
- `infrastructure/config/store_configs/` μ— μ„¤μ • νμΌ μ¶”κ°€
- ν•µμ‹¬ λ΅μ§μ€ λ³€κ²½ν•μ§€ μ•μ

### 3. **ν…μ¤νΈ μ©μ΄μ„±**
- κ° κ³„μΈµμ΄ λ…λ¦½μ μΌλ΅ ν…μ¤νΈ κ°€λ¥
- μμ΅΄μ„± μ£Όμ…μ„ ν†µν• Mock κ°μ²΄ μ‚¬μ© κ°€λ¥

## π”— λ¨λ“ κ°„ κ΄€κ³„

### **μλ™ν™” μ‹¤ν–‰ νλ¦„**
1. `interfaces/api/lambda_handler.py` β†’ μ”μ²­ μμ‹ 
2. `core/application/use_cases/apply_coupon_use_case.py` β†’ λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰
3. `infrastructure/web_automation/store_crawlers/` β†’ μ›Ή μλ™ν™” μν–‰
4. `infrastructure/notifications/` β†’ κ²°κ³Ό μ•λ¦Ό

### **μ„¤μ • λ° μμ΅΄μ„±**
- `infrastructure/config/` β†’ λ¨λ“  μ„¤μ • μ¤‘μ•™ κ΄€λ¦¬
- `infrastructure/factories/` β†’ κ°μ²΄ μƒμ„± λ° μμ΅΄μ„± μ£Όμ…
- `shared/utils/` β†’ κ³µν†µ κΈ°λ¥ μ κ³µ

---

μ΄ κµ¬μ΅°λ” **ν΄λ¦° μ•„ν‚¤ν…μ² μ›μΉ™**μ„ λ”°λΌ μ μ§€λ³΄μμ„±, ν…μ¤νΈ μ©μ΄μ„±, ν™•μ¥μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.